'use strict';

function describeIf(name, condition, handler) {
  if (condition) return describe(name, handler);
  return describe.skip(name, handler);
}

var EVIL = 'eval';

function supportsArrow() {
  try {
    var fn = global[EVIL]('(x => 3)');
    return typeof fn === 'function';
  } catch (ex) {
    return false;
  }
}

function supportsGenerator() {
  try {
    var fn = global[EVIL]('(function *() { yield 3; })');
    return typeof fn === 'function';
  } catch (ex) {
    return false;
  }
}

function supportsObject() {
  try {
    var fn = global[EVIL]('({xyz(){}}).xyz');
    return typeof fn === 'function';
  } catch (ex) {
    return false;
  }
}

function supportsDestructuring() {
  try {
    var fn = global[EVIL]('(({x}) => x)');
    return typeof fn === 'function';
  } catch (ex) {
    return false;
  }
}

require('fn-annotate/test/function');

if (supportsArrow()) {
  require('fn-annotate/test/arrow');
}

if(supportsGenerator()) {
  require('fn-annotate/test/generator');
}

if (supportsObject()) {
  require('fn-annotate/test/object');
}

if (supportsDestructuring()) {
  require('fn-annotate/test/destructuring');
}
